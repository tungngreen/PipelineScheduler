{
    "pipeline_name": "traffic_pipeline",
    "container": {
        "cont_pipeline": [
            {
                "msvc_name": "::receiver",
                "msvc_idealBatchSize": 4,
                "msvc_appLvlConfigs": "../jsons/yolov5_receiver.json",
                "msvc_dnstreamMicroservices": [
                    {
                        "nb_classOfInterest": -1,
                        "nb_commMethod": 4,
                        "nb_link": [
                            ""
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "::preprocessor",
                        "nb_expectedShape": [
                            [
                                -1,
                                -1,
                                -1
                            ]
                        ]
                    }
                ],
                "msvc_dataShape": [
                    [
                        3,
                        1280,
                        720
                    ]
                ],
                "msvc_svcLevelObjLatency": 1,
                "msvc_type": 0,
                "msvc_upstreamMicroservices": [
                    {
                        "nb_classOfInterest": -2,
                        "nb_commMethod": 2,
                        "nb_link": [
                            "0.0.0.0:55011"
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "datasource",
                        "nb_expectedShape": [
                            [
                                -1,
                                -1,
                                -1
                            ]
                        ]
                    }
                ],
                "msvc_maxQueueSize": 100,
                "=========================================Here ends the common part of the microservice configuration": "The following are the specific configurations for each microservice."
            },
            {
                "msvc_name": "::preprocessor",
                "msvc_idealBatchSize": 4,
                "msvc_appLvlConfigs": "../jsons/yolov5_preproc.json",
                "msvc_dnstreamMicroservices": [
                    {
                        "nb_classOfInterest": -1,
                        "nb_commMethod": 3,
                        "nb_link": [
                            ""
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "::inference",
                        "nb_expectedShape": [
                            [
                                3,
                                320,
                                320
                            ]
                        ]
                    }
                ],
                "msvc_dataShape": [
                    [
                        -1,
                        -1
                    ]
                ],
                "msvc_svcLevelObjLatency": 1,
                "msvc_type": 1,
                "msvc_upstreamMicroservices": [
                    {
                        "nb_classOfInterest": -2,
                        "nb_commMethod": 4,
                        "nb_link": [
                            ""
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "::receiver",
                        "nb_expectedShape": [
                            [
                                -1,
                                -1
                            ]
                        ]
                    }
                ],
                "msvc_maxQueueSize": 10,
                "=========================================Here ends the common part of the microservice configuration": "The following are the specific configurations for each microservice.",
                "msvc_imgType": 16,
                "msvc_colorCvtType": 4,
                "msvc_resizeInterpolType": 3,
                "msvc_imgNormScale": "1/255",
                "msvc_subVals": [
                    0,
                    0,
                    0
                ],
                "msvc_divVals": [
                    1,
                    1,
                    1
                ]
            },
            {
                "msvc_name": "::inference",
                "msvc_idealBatchSize": 4,
                "msvc_appLvlConfigs": "../jsons/yolov5_trt.json",
                "msvc_dnstreamMicroservices": [
                    {
                        "nb_classOfInterest": -1,
                        "nb_commMethod": 3,
                        "nb_link": [
                            ""
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "::postprocessor",
                        "nb_expectedShape": [
                            [
                                1 
                            ],
                            [
                                100,
                                4
                            ],
                            [
                                100
                            ],
                            [
                                100
                            ]
                        ]
                    }
                ],
                "msvc_dataShape": [
                    [
                        0,
                        0
                    ]
                ],
                "msvc_svcLevelObjLatency": 1,
                "msvc_type": 2,
                "msvc_upstreamMicroservices": [
                    {
                        "nb_classOfInterest": -2,
                        "nb_commMethod": 3,
                        "nb_link": [
                            ""
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "::preprocessor",
                        "nb_expectedShape": [
                            [
                                0,
                                0
                            ]
                        ]
                    }
                ],
                "msvc_maxQueueSize": 10,
                "=========================================Here ends the common part of the microservice configuration": "The following are the specific configurations for each microservice.",
                "calibration": "",
                "di": 0,
                "mbs": 1,
                "cbs":1, 
                "normalize": true,
                "obs": 1,
                "path": "../models/yolov5n_320_dynamic_nms_3090_fp32_20_1.engine",
                "prec": 4,
                "device": 0
            },
            {
                "msvc_name": "::postprocessor",
                "msvc_idealBatchSize": 4,
                "msvc_appLvlConfigs": "",
                "msvc_dnstreamMicroservices": [
                    {
                        "nb_classOfInterest": 0,
                        "nb_commMethod": 3,
                        "nb_link": [
                            ""
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "::sender0",
                        "nb_expectedShape": [
                            [
                                0,
                                0
                            ]
                        ]
                    }
                ],
                "msvc_dataShape": [
                    [
                        1 
                    ],
                    [
                        100,
                        4
                    ],
                    [
                        100
                    ],
                    [
                        100
                    ]
                ],
                "msvc_svcLevelObjLatency": 1,
                "msvc_type": 3,
                "msvc_upstreamMicroservices": [
                    {
                        "nb_classOfInterest": -2,
                        "nb_commMethod": 3,
                        "nb_link": [
                            ""
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "::inference",
                        "nb_expectedShape": [
                            [
                                3,
                                320,
                                320
                            ]
                        ]
                    }
                ],
                "msvc_maxQueueSize": 100,
                "=========================================Here ends the common part of the microservice configuration": "The following are the specific configurations for each microservice."
            },
            {
                "msvc_name": "::sender",
                "msvc_idealBatchSize": 4,
                "msvc_appLvlConfigs": "",
                "msvc_dnstreamMicroservices": [
                    {
                        "nb_classOfInterest": -1,
                        "nb_commMethod": 3,
                        "nb_link": [
                            "localhost:55012"
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "retinaface",
                        "nb_expectedShape": [
                            [
                                -1,
                                -1
                            ]
                        ]
                    }
                ],
                "msvc_dataShape": [
                    [
                        0,
                        0
                    ]
                ],
                "msvc_svcLevelObjLatency": 1,
                "msvc_type": 4,
                "msvc_upstreamMicroservices": [
                    {
                        "nb_classOfInterest": -2,
                        "nb_commMethod": 3,
                        "nb_link": [
                            ""
                        ],
                        "nb_maxQueueSize": 10,
                        "nb_name": "::postprocessor",
                        "nb_expectedShape": [
                            [
                                -1,
                                -1
                            ]
                        ]
                    }
                ],
                "msvc_maxQueueSize": 100,
                "=========================================Here ends the common part of the microservice configuration": "The following are the specific configurations for each microservice."
            }
        ],
        "cont_metricScrapeIntervalSecond": 60
    },
    "profiling": {
        "profile_minBatch": 1,
        "profile_maxBatch": 8,
        "profile_stepMode": 1,
        "profile_step": 1,
        "profile_templateModelPath": "../models/yolov5n_320_dynamic_nms_3090_fp32_[batch]_1.engine",
        "profile_inputRandomizeScheme": 0,
        "profile_numWarmUpBatches": 0,
        "profile_numProfileBatches": 20
    }
}